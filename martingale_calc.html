<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#cddc39">
  <title>Simulador Martingale</title>

  <!-- Manifesto do PWA -->
  <link rel="manifest" href="manifest.json">
    <style>
        body {
            background-color: #121212;
            color: #e0e0e0;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
        }
        h2 {
            color: #cddc39;
            text-align: center;
        }
        label {
            color: #ffffff;
            margin-right: 10px;
        }
        input {
            background-color: #2c2c2c;
            border: 1px solid #cddc39;
            color: #ffffff;
            padding: 10px;
            border-radius: 5px;
            margin: 5px 0;
            width: 100%;
            box-sizing: border-box;
        }
        button {
            background-color: #cddc39;
            color: #121212;
            border: none;
            padding: 15px 20px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            width: 100%;
        }
        button:hover {
            background-color: #afb42b;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        th, td {
            border: 1px solid #cddc39;
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: #1c1c1c;
            color: #cddc39;
        }
        td {
            background-color: #2c2c2c;
        }
        td:nth-child(odd) {
            background-color: #212121;
        }
        tbody tr:hover {
            background-color: #333333;
        }

        /* Media Query para ajustar o layout em telas menores (modo mobile) */
        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            table, th, td {
                font-size: 12px;
                padding: 5px;
            }
            h2 {
                font-size: 18px;
            }
            button {
                padding: 10px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <h2>Simulador de Perca e Ganho - Martingale</h2>

    <label for="saldoInicial">Saldo Inicial:</label>
    <input type="number" id="saldoInicial" placeholder="Ex: 1000"><br>

    <label for="entradaInicial">Valor da Entrada Inicial:</label>
    <input type="number" id="entradaInicial" placeholder="Ex: 10"><br>

    <label for="fator">Fator Martingale:</label>
    <input type="number" id="fator" placeholder="Ex: 2"><br>

    <label for="payout">Payout (%):</label>
    <input type="number" id="payout" placeholder="Ex: 80"><br><br>

    <button onclick="calcular()">Calcular</button>

    <table id="resultado">
        <thead>
            <tr>
                <th>ENT</th>
                <th>VAL</th>
                <th>PERCA</th>
                <th>LUCRO</th>
                <th>BALANÇO</th>
                <th>SALDO NEG</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        function calcular() {
            const saldoInicial = parseFloat(document.getElementById("saldoInicial").value);
            const entradaInicial = parseFloat(document.getElementById("entradaInicial").value);
            const fator = parseFloat(document.getElementById("fator").value);
            const payout = parseFloat(document.getElementById("payout").value) / 100;

            let tbody = document.querySelector("#resultado tbody");
            tbody.innerHTML = ""; // Limpa a tabela

            let saldoAtual = saldoInicial;
            let valorEntrada = entradaInicial;
            let percaAcumulada = 0;
            let i = 1;

            while (saldoAtual > 0) {
                let lucro = valorEntrada * payout;
                let balanco = lucro - percaAcumulada;
                percaAcumulada += valorEntrada;
                let saldoNegativo = saldoAtual - valorEntrada;

                // Preencher a tabela
                let row = `<tr>
                    <td>${i}</td>
                    <td>${valorEntrada.toFixed(2)}</td>
                    <td>${percaAcumulada.toFixed(2)}</td>
                    <td>${lucro.toFixed(2)}</td>
                    <td>${balanco.toFixed(2)}</td>
                    <td>${saldoNegativo.toFixed(2)}</td>
                </tr>`;
                tbody.innerHTML += row;

                // Atualiza o saldo e entrada para a próxima rodada
                saldoAtual = saldoNegativo;
                valorEntrada *= fator;
                i++;

                // Se o saldo atual for menor que a próxima entrada, encerra o loop
                if (saldoAtual <= valorEntrada) break;
            }
        }
    </script>
</body>
</html>
